<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Raytracer: src/rayon.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>src/rayon.c</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;rayon.h&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="comment">//fonction qui initialise les parametres d&#39;un rayon</span>
<a name="l00004"></a>00004 <a class="code" href="structrayon.html" title="composants d&amp;#39;un rayon">rayon</a> creerRayon(<a class="code" href="structvecteur.html" title="structure définissant un vecteur de taille 3">vecteur</a> origine, <a class="code" href="structvecteur.html" title="structure définissant un vecteur de taille 3">vecteur</a> vectDir){
<a name="l00005"></a>00005         <a class="code" href="structrayon.html" title="composants d&amp;#39;un rayon">rayon</a> r;<span class="comment">//déclaration du rayon</span>
<a name="l00006"></a>00006         r.<a class="code" href="structrayon.html#aca9dcf4a9ee74d058bada3b340f4a829">origine</a> = origine;<span class="comment">//on initialise l&#39;origine</span>
<a name="l00007"></a>00007         r.<a class="code" href="structrayon.html#a9528572e6df2141a5724d8197232eef4">vectDir</a>=vectDir;<span class="comment">//on initialise le vecteur directeur</span>
<a name="l00008"></a>00008         <span class="keywordflow">return</span> r;
<a name="l00009"></a>00009 }
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="comment">//calcul du vecteur directeur du rayon </span>
<a name="l00012"></a>00012 <a class="code" href="structvecteur.html" title="structure définissant un vecteur de taille 3">vecteur</a> calculvecDirRayon(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span>  y, <span class="keywordtype">int</span> xRes, <span class="keywordtype">int</span> yRes, <a class="code" href="structcamera__new.html" title="structure contenant toute les informations sur la camera et le viewPlane">camera_new</a> cam){
<a name="l00013"></a>00013         <span class="keywordtype">float</span> xIndent, yIndent;<span class="comment">//le pas en x et y du pixel</span>
<a name="l00014"></a>00014         <a class="code" href="structvecteur.html" title="structure définissant un vecteur de taille 3">vecteur</a> res;<span class="comment">//le vecteur directeur du rayon</span>
<a name="l00015"></a>00015         
<a name="l00016"></a>00016         <span class="comment">//on calcul le pas en x et y du pixel</span>
<a name="l00017"></a>00017         xIndent = cam.<a class="code" href="structcamera__new.html#ade7aec9f255cba52f6e841ba18090507">viewplaneWidth</a> / xRes;
<a name="l00018"></a>00018         yIndent = cam.<a class="code" href="structcamera__new.html#af0d7fe0f1f6fbd0fe663b08e654f2003">viewplaneHeight</a> / yRes;
<a name="l00019"></a>00019         <span class="comment">//on calcul le vecteur directeur du rayon</span>
<a name="l00020"></a>00020         res = opMoins(opMoins(opPlus(cam.<a class="code" href="structcamera__new.html#ae73d110605e87ba94ec370139f28651a">camPointHautGauche</a>, opProduitScalaire(opProduitScalaire(cam.<a class="code" href="structcamera__new.html#ab3a4002e1ae75a9133367b3dda70ee14">camVectDroit</a>,xIndent),x)),opProduitScalaire(opProduitScalaire(cam.<a class="code" href="structcamera__new.html#a507bea91a4e3c76be59cec90cd2f9937">camVectHaut</a>,yIndent),y)), cam.<a class="code" href="structcamera__new.html#ae5fd54bf7be876724364bedfe8624307">position</a>);
<a name="l00021"></a>00021         <span class="keywordflow">return</span> res;
<a name="l00022"></a>00022 }
<a name="l00023"></a>00023 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jan 12 17:18:58 2011 for Raytracer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
